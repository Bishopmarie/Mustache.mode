<?xml version="1.0" encoding="UTF-8"?>
<syntax>
	<head>
		<name>Mustache Syntax</name>
		<autocompleteoptions use-spelling-dictionary="yes"/>
		<charsintokens><![CDATA[_0987654321abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ@]]></charsintokens>
	</head>
	<states>
		<default id="Base" color="#000" usesymbolsfrommode="HTML" useautocompletefrommode="HTML">
			<keywords id="Sections" color="#CC0000">
				<regex>(\{\{[#^/][^\}]*\}\})</regex>
			</keywords>

			<keywords id="Pragmas" color="#236E25">
				<regex>(\{\{%[^\}]*\}\})</regex>
			</keywords>

			<keywords id="Unescaped Variables" color="#825900">
				<regex>(\{\{&amp;[^\}]*\}\})</regex>
				<regex>(\{\{\{[^\}]*\}\}\})</regex>
			</keywords>

			<keywords id="Partials" color="#003369">
				<regex>(\{\{&gt;[^\}]*\}\})</regex>
			</keywords>

			<keywords id="Comments" color="#236E25">
				<regex>(\{\{![^\}]*\}\})</regex>
			</keywords>

			<keywords id="Variables" color="#825900">
				<regex>(\{\{[^#^/\{&amp;!&gt;%][^\}]*\}\})</regex>
			</keywords>

			<import state="HTML Tags" />
		</default>

		<state id="HTML Tags" color="#881280" font-style="normal">
			<begin><regex>&lt;</regex></begin>
			<end><regex>(?&lt;!\{\{)&gt;</regex></end>

			<state id="Strings in HTML Tags" type="string" color="#1A1AA6" useforautocomplete="no">
				<begin>
					<regex>"</regex>
				</begin>
				<end>
					<regex>"</regex>
				</end>
			</state>

			<keywords id="Attributes in HTML Tags" color="#994500" useforautocomplete="no">
				<regex>([\w-]*)(?=[ \t]*=)</regex>
			</keywords>

			<keywords id="Sections in HTML Tags" color="#CC0000">
				<regex>(\{\{[#^/][^\}]*\}\})</regex>
			</keywords>

			<keywords id="Unescaped Variables in HTML Tags" color="#825900">
				<regex>(\{\{&amp;[^\}]*\}\})</regex>
				<regex>(\{\{\{[^\}]*\}\}\})</regex>
			</keywords>

			<keywords id="Partials in HTML Tags" color="#003369">
				<regex>(\{\{&gt;[^\}]*\}\})</regex>
			</keywords>

			<keywords id="Comments in HTML Tags" color="#236E25">
				<regex>(\{\{![^\}]*\}\})</regex>
			</keywords>

			<keywords id="Variables in HTML Tags" color="#825900">
				<regex>(\{\{[^#^/\{&amp;!&gt;%][^\}]*\}\})</regex>
			</keywords>

		</state>

	</states>
</syntax>
